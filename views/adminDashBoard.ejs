<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>NEXUS Admin Dashboard</title>
  <link rel="stylesheet" href="./css/adminDashBoard.css">
  <!-- <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous"> -->
  
</head>
<body>
  <header>
    <h1>Admin Dashboard</h1>
  </header>
  <nav>
    <div class="section">
      <button id="proj-management" class="project-management _icon openIcon">Project Management</button>
      <button id="user-management" class="user-management _icon">User Management</button>
      <button id="settings" class="settings _icon">Settings</button>
      <!-- <a href="#project-management"></a> -->
      <!-- <a href="#user-management">User Management</a> -->
      <!-- <a href="#collaboration-hub">Collaboration Hub</a>
      <a href="#connection-hub">Connection Hub</a>
      <a href="#employment-platform">Employment Platform</a>
      <a href="#settings">Settings</a> -->
    </div>
  </nav>
  <div class="project-management _icon-cont ">
  <!-- <section id="project-management"> -->
    <h2>Project Management</h2>
    <%if(projects.length>0){%>
    <table>
        <thead>
          <tr>
            <th>Project Name</th>
            
            <th>Image</th>
            <th>Category</th>
            <th>Reports</th>
            <th>Actions</th>
          </tr>
        </thead>
        <tbody>
          <%for(let i=0;i<projects.length;i++){%>
            <tr>
                <td><%=projects[i]['projectName']%></td>
                
                <td><%= projects[i]['image'] %></td>
                <td><%= projects[i]['category'] %></td>
                <td><%= projects[i]['reports'] %></td>                <!-- Example button that triggers the delete request -->
                <td>
                  <form action="/deletepost" method="POST">
                    <textarea name="obj_id" style="display: none;"><%= projects[i]['_id'] %></textarea>
                  <button id="delete-post" type="submit">Delete Post</button>
                </form>
              </td>
            </tr>
          <% } %>
        </tbody>
        </table>
        <% } %>
      </div>
  <div class="user-management _icon-cont hide">
    <!-- <section id="user-management"> -->
      <div class="heading"> <h2>User Management</h2></div>
            <%if(users.length>0){%>
            <table>
                <thead>
                    <tr>
                        <th>Name</th>
                        <th>Email</th>
                        <th>Phone Number</th>
                        <th>Action</th>
                    </tr>
                </thead>
                <tbody>
                    <%for(let i=0;i<users.length;i++){%>
                      <%if(users[i]['role']==="student"){%>
                        <tr>
                            <td><%=users[i]['fullname']%></td>
                            <td><%= users[i]['gmail'] %></td>
                            <td><%= users[i]['phno'] %></td>
                            <!-- Example button that triggers the delete request -->
                            <td>
                              <form action="/deleteuser" method="POST">
                                <input type="hidden" name="gmail" value="<%= users[i]['gmail'] %>">
                                <button id="delete-user" type="submit">Delete User</button>
                              </form>
                              <form action="/updateuser" method="POST">
                                <input type="text" name="newrole" required>
                                <button id="updateRole" type="submit">Update Role</button>
                              </form>
                            </td>
                            
  
                        </tr>
                      <%}%>
                    <% } %>
                </tbody>
            </table>
            <%}%>
    <!-- </section> -->
    
  </div>    
  
  <div class="settings _icon-cont hide">
    <div class="heading"> <h2>Settings</h2></div>
    <!-- <div class="sub-heading"> <h3>Admin Account Settings</h3></div> -->
    <div class="logout">
      <form action="/logout" method="post" >
        <button id="logout" >Logout</button>
    </form>
    </div>
    
  </div>
</div>
  <script src="./js/adminDashBoard.js"></script>
</body>
</html>
